// Name: Blogger Star Rating Plugin
// Author: Viá»‡t Designer
// Website: www.thietkeblogspot.com
var data_id,rating_id,item,num,rating_added="",rate_num="",list_id=[];function star_rating(){$(item).on({mouseover:function(){num=$(this).index(),$(this).parent().parent().attr("hover-rating-star",num+1);for(var t=0;t<=num;t++)$(item[t]).addClass("devsite-rating-star-full")},mouseleave:function(){for(var t=0;t<=4;t++)$(item[t]).removeClass("devsite-rating-star-full");$(this).parent().parent().attr("hover-rating-star",0)},click:function(){num=$(this).index(),data_id=$(this).parent().attr("data-id"),$(this).unbind("mouseleave");for(var t=0;t<=num;t++)$(item[t]).addClass("devsite-rating-star-full");for(var a=num+1;a<=4;a++)$(item[a]).removeClass("devsite-rating-star-full");$(this).parent().parent().attr("selected-rating",num+1),rating_id="<span data-selected-rating="+num+" id="+data_id+"></span>";var e=$("#rating-id>span");if(e.length){for(a=0;a<e.length;a++)list_id.push(e[a].id);if(list_id.includes(data_id))$("#"+data_id).attr("data-selected-rating",num);else $("#rating-id").append(rating_id)}else $("#rating-id").html(rating_id);rating_added=$("#rating-id").html(),localStorage.setItem("rating_added",rating_added)}})}$(".devsite-rating-stars").each(function(){var t=$(this);if(item=t.find(".devsite-rating-star"),$(item).append('<svg viewBox="0 0 24 24"><path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"/></svg>'),data_id=t.attr("data-id"),rating_added=localStorage.getItem("rating_added")){$("#rating-id").html(rating_added);for(var a=document.querySelector("#rating-id").getElementsByTagName("span"),e=0;e<a.length;e++)list_id.push(a[e].id);list_id.includes(data_id)?$("#rating-id").each(function(){var a="#"+data_id;num=$(this).find(a).attr("data-selected-rating"),rate_num=Number($(this).find(a).attr("data-selected-rating"))+1,t.parent().attr("selected-rating",rate_num);for(var e=0;e<=num;e++)$(item[e]).addClass("devsite-rating-star-full");$(item).click(function(){num=$(this).index(),$("#rating-id").find(a).attr("data-selected-rating",num),t.parent().attr("selected-rating",num+1);for(var e=0;e<=num;e++)$(item[e]).addClass("devsite-rating-star-full");for(var i=num+1;i<=4;i++)$(item[i]).removeClass("devsite-rating-star-full");rating_added=$("#rating-id").html(),localStorage.setItem("rating_added",rating_added)}),$(item).hover(function(){if(num=$(this).index(),$(this).parent().parent().attr("hover-rating-star",num+1),rate_num==num+1)for(var t=0;t<rate_num;t++)$(item[t]).addClass("devsite-rating-star-full");else for(t=0;t<=num;t++)$(item[t]).addClass("devsite-rating-star-full")},function(){for(var t=rate_num=Number($(this).parent().parent().attr("selected-rating"));t<=4;t++)$(item[t]).removeClass("devsite-rating-star-full");$(item).click(function(){num=$(this).index();for(var t=0;t<=num;t++)$(item[t]).addClass("devsite-rating-star-full")}),$(this).parent().parent().attr("hover-rating-star",0)})}):star_rating()}else star_rating()});
